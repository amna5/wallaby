<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verification</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="button-wrapper">
      <div class="button-card">
        <div style="padding-bottom: 90px; top: -90px">
          <h1 class="title" style="line-height: 1.1; padding-bottom: 20px">
            verification
          </h1>
          <form action="#" autocomplete="off">
            <div class="otp-container">
              <input
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="1"
                class="otp"
                autocomplete="one-time-code"
              />
              <input
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="1"
                class="otp"
              />
              <input
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="1"
                class="otp"
              />
              <input
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="1"
                class="otp"
              />
              <input
                type="text"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="1"
                class="otp"
              />
            </div>

            <h5
              style="
                text-align: left;
                padding-bottom: 100px;

                font-size: 0.85rem;
              "
            >
              enter the five digit code sent to your email.
              <a href="#" class="resend-link">resend code</a>
            </h5>

            <button class="confirm-btn">confirm</button>
          </form>
        </div>
      </div>
    </div>
    <script>
      const inputs = document.querySelectorAll(".otp");
      const button = document.querySelector(".confirm-btn");

      // auto move + digits only
      inputs.forEach((input, index) => {
        input.addEventListener("input", () => {
          input.value = input.value.replace(/[^0-9]/g, "");

          if (input.value && index < inputs.length - 1) {
            inputs[index + 1].focus();
          }

          input.classList.remove("error");
        });

        input.addEventListener("keydown", (e) => {
          if (e.key === "Backspace" && !input.value && index > 0) {
            inputs[index - 1].focus();
          }
        });
      });

      // confirm button
      button.addEventListener("click", (e) => {
        e.preventDefault();

        let code = "";
        inputs.forEach((input) => {
          code += input.value;
        });

        if (code !== "12345") {
          inputs.forEach((input) => input.classList.add("error"));
        } else {
          // success → redirect
          button.textContent = "verified ✓";
          button.disabled = true;

          setTimeout(() => {
            window.location.href = "resetPassword.html";
          }, 500);
        }
      });
    </script>
  </body>
</html>
